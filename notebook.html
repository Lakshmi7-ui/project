<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Our Story ‚ú®</title>

<link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  height:100vh;
  background:radial-gradient(circle at top, #1b1f3b, #070914);
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:'Patrick Hand', cursive;
  overflow:hidden;
}

/* ================= NOTEBOOK ================= */
.notebook{
  width:900px;
  height:520px;
  background:linear-gradient(#fffef8,#f4f1ea);
  border-radius:18px;
  box-shadow:0 40px 80px rgba(0,0,0,.6), inset 0 0 20px rgba(0,0,0,.08);
  display:flex;
  perspective:2000px;
  transition:opacity 1.2s ease;
  z-index:5;
}

.binding{
  width:22px;
  background:linear-gradient(#d4cfc5,#b7b1a6);
}

.page{
  width:50%;
  padding:50px;
  font-size:25px;
  line-height:1.9;
}

.page.right{
  transform-origin:left center;
  transition:transform 1.4s ease;
  cursor:pointer;
}

.page.turn{
  transform:rotateY(-165deg);
}

/* ================= CONSTELLATION ================= */
#constellation{
  position:fixed;
  inset:0;
  background:radial-gradient(circle at top, #050b2e, #000);
  display:none;
  z-index:20;
}

.star{
  position:absolute;
  width:10px;
  height:10px;
  background:white;
  border-radius:50%;
  box-shadow:0 0 12px white;
  cursor:pointer;
  animation:twinkle 2s infinite ease-in-out;
}

@keyframes twinkle{
  0%,100%{opacity:.5; transform:scale(1);}
  50%{opacity:1; transform:scale(1.4);}
}

svg{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:21;
}

line{
  stroke:red;
  stroke-width:3;
  filter:drop-shadow(0 0 8px red);
}

/* ================= PASSWORD ================= */
.password-box{
  position:fixed;
  inset:0;
  display:none;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  color:white;
  z-index:30;
}

.password-box input{
  padding:10px 16px;
  font-size:20px;
  border:none;
  border-radius:8px;
  margin-top:10px;
}

.password-box button{
  margin-top:15px;
  padding:8px 20px;
  font-size:18px;
  border:none;
  border-radius:8px;
  cursor:pointer;
  background:#ff5a7a;
  color:white;
}
</style>
</head>

<body>

<!-- NOTEBOOK -->
<div class="notebook" id="book">
  <div class="page left" id="leftPage">
    <h2>Page One ‚ú®</h2>
    <p>Some feelings don‚Äôt rush.</p>
    <p>They wait‚Ä¶ quietly.</p>
  </div>

  <div class="binding"></div>

  <div class="page right" id="rightPage" onclick="nextStep()">
    <h2>Page Two üåô</h2>
    <p>Moments align‚Ä¶</p>
    <p>Just like this.</p>
  </div>
</div>

<!-- CONSTELLATION -->
<div id="constellation"></div>
<svg id="lines"></svg>

<!-- PASSWORD -->
<div class="password-box" id="passwordBox">
  <h2>üîê One word unlocks the last page</h2>
  <input type="password" id="passwordInput" placeholder="Enter word">
  <button onclick="checkPassword()">Unlock ‚ú®</button>
</div>

<script>
let step = 1;

/* ================= NOTEBOOK FLOW ================= */
function nextStep(){
  document.getElementById("rightPage").classList.add("turn");

  setTimeout(()=>{
    if(step === 1) showConstellation();
    else if(step === 3) showPassword();
  },1300);
}

/* ================= HEART CONSTELLATION ================= */
const heartPoints = [
  [50,18],[40,28],[30,40],[30,55],
  [40,65],[50,75],[60,65],[70,55],
  [70,40],[60,28],[50,18]
];

let connected = false;

function showConstellation(){
  step = 2;
  book.style.opacity = 0;

  setTimeout(()=>{
    book.style.display = "none";
    constellation.style.display = "block";
    createStars();
  },900);
}

function createStars(){
  heartPoints.forEach(([x,y])=>{
    const s = document.createElement("div");
    s.className = "star";
    s.style.left = x+"%";
    s.style.top = y+"%";
    s.onclick = ()=>{
      if(!connected){
        connected = true;
        connectStars();
      }
    };
    constellation.appendChild(s);
  });
}

function connectStars(){
  svg.setAttribute("viewBox","0 0 100 100");
  svg.setAttribute("preserveAspectRatio","none");

  for(let i=1;i<heartPoints.length;i++){
    const l = document.createElementNS("http://www.w3.org/2000/svg","line");
    l.setAttribute("x1",heartPoints[i-1][0]);
    l.setAttribute("y1",heartPoints[i-1][1]);
    l.setAttribute("x2",heartPoints[i][0]);
    l.setAttribute("y2",heartPoints[i][1]);
    lines.appendChild(l);
  }

  setTimeout(loadPageThree,1200);
}

/* ================= PAGE 3 ================= */
function loadPageThree(){
  constellation.style.display="none";
  lines.innerHTML="";
  constellation.innerHTML="";

  book.style.display="flex";
  book.style.opacity=1;

  leftPage.innerHTML = `
    <h2>Page Three üåå</h2>
    <p>Some moments change everything.</p>
  `;

  rightPage.innerHTML = `
    <h2>Turn once more ‚ú®</h2>
    <p>The last page awaits.</p>
  `;

  rightPage.classList.remove("turn");
  step = 3;
}

/* ================= PASSWORD ================= */
function showPassword(){
  book.style.opacity=0;
  setTimeout(()=>{
    book.style.display="none";
    passwordBox.style.display="flex";
  },900);
}

function checkPassword(){
  if(passwordInput.value.toLowerCase() === "kiwi"){
    passwordBox.style.display="none";
    showPageFour();
  } else {
    alert("Try again ‚ú®");
  }
}

/* ================= PAGE 4 ================= */
function showPageFour(){
  book.style.display="flex";
  book.style.opacity=1;

  leftPage.innerHTML = `
    <h2>Page Four üíñ</h2>
    <p>Some stories don‚Äôt need an ending.</p>
    <p>They begin here.</p>
  `;

  rightPage.innerHTML = `
    <h2>‚ú®</h2>
    <p>Thank you for reaching the end.</p>
  `;
}
</script>

</body>
</html>






