<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Our Story âœ¨</title>
<link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  height:100vh;
  background:radial-gradient(circle at top, #1b1f3b, #070914);
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:'Patrick Hand', cursive;
  overflow:hidden;
}

/* ================= NOTEBOOK ================= */
.notebook{
  width:900px;
  height:520px;
  background:linear-gradient(#fffef8,#f4f1ea);
  border-radius:18px;
  box-shadow:0 40px 80px rgba(0,0,0,.6), inset 0 0 20px rgba(0,0,0,.08);
  display:flex;
  perspective:2000px;
  transition:opacity 1.2s ease;
}
.binding{
  width:22px;
  background:linear-gradient(#d4cfc5,#b7b1a6);
}
.page{
  width:50%;
  padding:50px;
  font-size:25px;
  line-height:1.9;
  background:repeating-linear-gradient(
    to bottom,
    transparent,
    transparent 28px,
    rgba(0,0,0,0.03) 29px
  );
  position:relative;
}
.page.right{
  transform-origin:left center;
  transition:transform 1.4s ease;
  cursor:pointer;
}
.page.turn{
  transform:rotateY(-165deg);
}
.page:after{
  content:"";
  position:absolute;
  top:0;
  right:0;
  width:35px;
  height:100%;
  background:linear-gradient(to right, rgba(0,0,0,.15), transparent);
}

/* ================= SKY ================= */
.sky{
  position:fixed;
  inset:0;
  background:radial-gradient(circle at top, #0d1028, #03040a);
  display:none;
}
.star{
  position:absolute;
  width:16px;
  height:16px;
  background:radial-gradient(circle, #fff 35%, #ffd6d6 55%, transparent 75%);
  border-radius:50%;
  box-shadow:0 0 10px rgba(255,255,255,.9),
             0 0 25px rgba(255,120,120,.8);
  animation:twinkle 3s infinite ease-in-out;
  cursor:pointer;
}
@keyframes twinkle{
  0%{opacity:.6; transform:scale(1);}
  50%{opacity:1; transform:scale(1.3);}
  100%{opacity:.7; transform:scale(1);}
}
svg{
  position:fixed;
  inset:0;
  pointer-events:none;
}
  /* Heart button on Page 4 */
#heartBtn {
  font-size:50px;
  background:none;
  border:none;
  cursor:pointer;
  color:#ff4d6d;
  animation:beat 1s infinite;
  margin-top:20px;
}

@keyframes beat {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.3); }
}

</style>
</head>

<body>

<!-- NOTEBOOK -->
<div class="notebook" id="book">
  <div class="page left" id="leftPage">
    <h2>Page One âœ¨</h2>
    <p>Some feelings donâ€™t rush.</p>
    <p>They waitâ€¦ quietly.</p>
  </div>

  <div class="binding"></div>

  <div class="page right" id="rightPage" onclick="nextStep()">
    <h2>Page Two ðŸŒ™</h2>
    <p>Moments alignâ€¦</p>
    <p>Just like this.</p>
  </div>
</div>

<!-- SKY -->
<div class="sky" id="sky"></div>
<svg id="lines"></svg>

<script>
let step = 1;

/* ================= FLOW ================= */
function nextStep(){
  document.getElementById("rightPage").classList.add("turn");

  setTimeout(()=>{
    if(step === 1){
      showHeart();
    } else if(step === 2){
      showPageFour();
    }
  },1300);
}

/* ================= HEART CONSTELLATION ================= */
const heartPoints=[
  [50,30],[60,25],[70,30],
  [75,40],[70,50],[60,60],
  [50,70],[40,60],[30,50],
  [25,40],[30,30],[40,25]
];
let connected = 0;

function showHeart(){
  step = 2;
  document.getElementById("book").style.opacity=0;

  setTimeout(()=>{
    document.getElementById("book").style.display="none";
    document.getElementById("sky").style.display="block";
    createStars();
  },900);
}

function createStars(){
  heartPoints.forEach(p=>{
    const s=document.createElement("div");
    s.className="star";
    s.style.left=p[0]+"vw";
    s.style.top=p[1]+"vh";
    s.onclick=connectStar;
    document.body.appendChild(s);
  });
}

function connectStar(){
  if(connected>=heartPoints.length-1) return;

  drawLine(heartPoints[connected],heartPoints[connected+1]);
  connected++;

  if(connected===heartPoints.length-1){
    setTimeout(loadPageThree,1200);
  }
}

function drawLine(a,b){
  const l=document.createElementNS("http://www.w3.org/2000/svg","line");
  l.setAttribute("x1",a[0]+"%");
  l.setAttribute("y1",a[1]+"%");
  l.setAttribute("x2",b[0]+"%");
  l.setAttribute("y2",b[1]+"%");
  l.setAttribute("stroke","rgba(255,60,60,.95)");
  l.setAttribute("stroke-width","3");
  document.getElementById("lines").appendChild(l);
}

/* ================= PAGE 3 ================= */
function loadPageThree(){
  document.querySelectorAll(".star").forEach(s=>s.remove());
  document.getElementById("lines").innerHTML="";
  document.getElementById("sky").style.display="none";

  document.getElementById("book").style.display="flex";
  document.getElementById("book").style.opacity=1;

  document.getElementById("leftPage").innerHTML = `
    <h2>Page Three ðŸŒŒ</h2>
    <p>Some moments change everything.</p>
  `;

  document.getElementById("rightPage").innerHTML = `
    <h2>Turn once more âœ¨</h2>
    <p>The last page awaits.</p>
  `;

  document.getElementById("rightPage").classList.remove("turn");
}

/* ================= PAGE 4 ================= */
function showPageFour(){
  document.getElementById("leftPage").innerHTML = `
    <h2>Page Four ðŸ’–</h2>
    <p>Thank you for coming in my life,and making it more beautiful with all your love and care.</p>
    <p>They begin here.</p>
  `;

  document.getElementById("rightPage").innerHTML = `
    <h2>âœ¨</h2>
    <p>Thank you for reaching the end.</p>
    <button id="heartBtn" onclick="openProposal()">ðŸ’—</button>
  `;

  document.getElementById("rightPage").classList.remove("turn");
}
  function openProposal() {
  window.location.href = "proposal.html";
}
</script>

</body>
</html>









