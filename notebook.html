<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Our Story ‚ú®</title>

<link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  height:100vh;
  background:radial-gradient(circle at top, #1b1f3b, #070914);
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:'Patrick Hand', cursive;
  overflow:hidden;
}

/* ================= NOTEBOOK ================= */
.notebook{
  width:900px;
  height:520px;
  background:linear-gradient(#fffef8,#f4f1ea);
  border-radius:18px;
  box-shadow:0 40px 80px rgba(0,0,0,.6), inset 0 0 20px rgba(0,0,0,.08);
  display:flex;
  perspective:2000px;
  transition:opacity 1s ease;
  position:relative;
}

.binding{
  width:22px;
  background:linear-gradient(#d4cfc5,#b7b1a6);
}

.page{
  width:50%;
  padding:50px;
  font-size:25px;
  line-height:1.9;
  position:relative;
  background:repeating-linear-gradient(
    to bottom,
    transparent,
    transparent 28px,
    rgba(0,0,0,0.03) 29px
  );
}

.page.right{
  transform-origin:left center;
  transition:transform 1.4s ease;
  cursor:pointer;
}

.page.turn{
  transform:rotateY(-165deg);
}

.page::after{
  content:"";
  position:absolute;
  top:0;
  right:0;
  width:30px;
  height:100%;
  background:linear-gradient(to right, rgba(0,0,0,.15), transparent);
}

/* ================= SKY ================= */
.sky{
  position:fixed;
  inset:0;
  background:radial-gradient(circle at top, #0d1028, #03040a);
  display:none;
  z-index:5;
}

.star{
  position:absolute;
  width:14px;
  height:14px;
  background:radial-gradient(circle, #fff 40%, #ffdada 60%, transparent 75%);
  border-radius:50%;
  box-shadow:0 0 10px rgba(255,255,255,.9), 0 0 20px rgba(255,80,80,.7);
  animation:twinkle 3s infinite ease-in-out;
}

@keyframes twinkle{
  0%{opacity:.6; transform:scale(1);}
  50%{opacity:1; transform:scale(1.3);}
  100%{opacity:.7; transform:scale(1);}
}

svg{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:6;
}

/* ================= PASSWORD ================= */
.password-box{
  position:fixed;
  inset:0;
  display:none;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  color:white;
  z-index:10;
}

.password-box input{
  padding:12px 18px;
  font-size:20px;
  border:none;
  border-radius:8px;
  margin-top:10px;
  font-family:inherit;
}

.password-box button{
  margin-top:15px;
  padding:10px 24px;
  font-size:18px;
  border:none;
  border-radius:8px;
  cursor:pointer;
  background:#ff5a7a;
  color:white;
}
</style>
</head>

<body>

<!-- NOTEBOOK -->
<div class="notebook" id="book">
  <div class="page left" id="leftPage">
    <h2>Page One ‚ú®</h2>
    <p>Some feelings don‚Äôt rush.</p>
    <p>They wait‚Ä¶ quietly.</p>
  </div>

  <div class="binding"></div>

  <div class="page right" id="rightPage">
    <h2>Page Two üåô</h2>
    <p>Moments align‚Ä¶</p>
    <p>Just like this.</p>
  </div>
</div>

<!-- PASSWORD -->
<div class="password-box" id="passwordBox">
  <h2>üîê One word unlocks the last page</h2>
  <input type="password" id="passwordInput" placeholder="Enter word">
  <button onclick="checkPassword()">Unlock ‚ú®</button>
</div>

<!-- SKY -->
<div class="sky" id="sky"></div>
<svg id="lines"></svg>

<script>
/* ================= VARIABLES ================= */
const CORRECT_PASSWORD = "kiwi";
let step = 1;
let connected = 0;

const heartPoints=[
  [50,28],[62,24],[74,30],
  [80,42],[70,55],[60,65],
  [50,75],[40,65],[30,55],
  [20,42],[26,30],[38,24]
];

/* ================= CLICK HANDLER ================= */
document.getElementById("rightPage").onclick = nextStep;

/* ================= FLOW ================= */
function nextStep(){
  const rightPage = document.getElementById("rightPage");
  rightPage.classList.add("turn");

  setTimeout(()=>{
    if(step === 1){
      showHeart();
    }
    else if(step === 3){
      showPassword();
    }
  },1200);
}

/* ================= HEART CONSTELLATION ================= */
function showHeart(){
  step = 2;
  document.getElementById("book").style.opacity=0;

  setTimeout(()=>{
    document.getElementById("book").style.display="none";
    document.getElementById("sky").style.display="block";
    createStars();
  },900);
}

function createStars(){
  heartPoints.forEach(p=>{
    const s=document.createElement("div");
    s.className="star";
    s.style.left=p[0]+"vw";
    s.style.top=p[1]+"vh";
    document.body.appendChild(s);
  });

  autoConnect();
}

function autoConnect(){
  if(connected >= heartPoints.length-1){
    setTimeout(loadPageThree,1200);
    return;
  }
  drawLine(heartPoints[connected],heartPoints[connected+1]);
  connected++;
  setTimeout(autoConnect,300);
}

function drawLine(a,b){
  const l=document.createElementNS("http://www.w3.org/2000/svg","line");
  l.setAttribute("x1",a[0]+"%");
  l.setAttribute("y1",a[1]+"%");
  l.setAttribute("x2",b[0]+"%");
  l.setAttribute("y2",b[1]+"%");
  l.setAttribute("stroke","rgba(255,60,60,.95)");
  l.setAttribute("stroke-width","3");
  document.getElementById("lines").appendChild(l);
}

/* ================= PAGE 3 ================= */
function loadPageThree(){
  document.querySelectorAll(".star").forEach(s=>s.remove());
  document.getElementById("lines").innerHTML="";
  document.getElementById("sky").style.display="none";

  const book=document.getElementById("book");
  book.style.display="flex";
  book.style.opacity=1;

  document.getElementById("leftPage").innerHTML=`
    <h2>Page Three üåå</h2>
    <p>Some moments change everything.</p>
  `;

  const rightPage=document.getElementById("rightPage");
  rightPage.innerHTML=`
    <h2>Turn once more ‚ú®</h2>
    <p>The last page awaits.</p>
  `;
  rightPage.classList.remove("turn");
  rightPage.onclick = nextStep;

  step = 3;
}

/* ================= PASSWORD ================= */
function showPassword(){
  document.getElementById("book").style.opacity=0;
  setTimeout(()=>{
    document.getElementById("book").style.display="none";
    document.getElementById("passwordBox").style.display="flex";
  },800);
}

function checkPassword(){
  const val=document.getElementById("passwordInput").value.toLowerCase();
  if(val === CORRECT_PASSWORD){
    document.getElementById("passwordBox").style.display="none";
    showPageFour();
  }else{
    alert("Try again ‚ú®");
  }
}

/* ================= PAGE 4 ================= */
function showPageFour(){
  const book=document.getElementById("book");
  book.style.display="flex";
  book.style.opacity=1;

  document.getElementById("leftPage").innerHTML=`
    <h2>Page Four üíñ</h2>
    <p>Some stories don‚Äôt end.</p>
    <p>They begin here.</p>
  `;

  document.getElementById("rightPage").innerHTML=`
    <h2>‚ú®</h2>
    <p>This is just the start.</p>
  `;
}
</script>

</body>
</html>





